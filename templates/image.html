{% extends 'base.html' %}

{% block content %}
  <h3>{{ img_info.id }}</h3>


    <div class="row">
      <div class="col-md-12">
        {% if allImageTags %}
            All image tags:
            {% for layer,tag in allImageTags %}
              <span class="label label-primary">{{ layer }}:{{ tag }}</span>
            {% endfor %}
        {% else %}
        <b>This image is not tagged</b>
        {% endif %}
      </div>
    </div>

    <div class="row">
        <div class="col-md-6">
            Find descendants:
            <a href="{{ config.BASE_URL }}descendants/byid/{{ img_info.id }}">descendants</a>
        </div>
    </div>

  <!-- tree graph -->
  <div id="graph"></div>
  <script> var data = {{ ancestry_list |tojson }}</script>
  <link href="{{ config.BASE_URL }}static/css/d3tree.css" rel="stylesheet">
  <script src="http://d3js.org/d3.v3.min.js"></script>
  <script src="{{ config.BASE_URL }}static/js/d3tree.js"></script>

  <pre>
  {{ img_info | pprint }}
  </pre>

{% endblock %}
